<?php 

    function sendBulker($Custodian,$message){
			     
        // $data = array(
        // "sender"=>'BELOVED',
        // "recipients"=>$Custodian,
        // "message"=>$message);
        // $url = "https://www.intouchsms.co.rw/api/sendsms/.json";
        // $data = http_build_query ($data);
        // $username="Beloved ";
        // $password="Be!0ved@321!!!";
        // $ch = curl_init();
        // curl_setopt($ch,CURLOPT_URL, $url);
        // curl_setopt($ch, CURLOPT_USERPWD, $username . ":" . $password);
        // curl_setopt($ch,CURLOPT_POST,true);
        // curl_setopt($ch, CURLOPT_RETURNTRANSFER,1);
        // curl_setopt($ch, CURLOPT_SSL_VERIFYPEER,0);
        // curl_setopt($ch,CURLOPT_POSTFIELDS, $data);
        // $result = curl_exec($ch);
        // $httpcode = curl_getinfo($ch, CURLINFO_HTTP_CODE);
        // curl_close($ch);

        // $responseData = json_decode($result, true);
        // if ($responseData['success'] === true) { return  "dispatched"; }else{ return "ooops"; }


// $message = "Hello In There , it is awesome if you see this";
$curl = curl_init();
curl_setopt_array($curl, array(
  CURLOPT_URL => 'https://api.mista.io/sms',
  CURLOPT_RETURNTRANSFER => true,
  CURLOPT_ENCODING => '',
  CURLOPT_MAXREDIRS => 10,
  CURLOPT_TIMEOUT => 0,
  CURLOPT_FOLLOWLOCATION => true,
  CURLOPT_HTTP_VERSION => CURL_HTTP_VERSION_1_1,
  CURLOPT_CUSTOMREQUEST => 'POST',
  CURLOPT_POSTFIELDS => array(
    'to' => $Custodian, // Phone number
    'from' => 'E-Notifier', // Sender ID
    'unicode' => '0',
    'sms' => $message, // Your message
    'action' => 'send-sms'
  ),
  CURLOPT_HTTPHEADER => array(
    'x-api-key: 602|9D25yNl2oga3bV14ovgWZMBLnLqXm9sXsR3CZ2DG'
  ),
));

$response = curl_exec($curl);
curl_close($curl);

// Decode the JSON response
$responseData = json_decode($response, true);

if ($responseData && isset($responseData['status']) && $responseData['status'] == 'success') {
    return  "dispatched"; 
} else {
    return "ooops";
}



    }


    function sendBulkerTwo($Custodian,$message){
			     


        $curl = curl_init();
        curl_setopt_array($curl, array(
        CURLOPT_URL => 'https://api.mista.io/sms',
        CURLOPT_RETURNTRANSFER => true,
        CURLOPT_ENCODING => '',
        CURLOPT_MAXREDIRS => 10,
        CURLOPT_TIMEOUT => 0,
        CURLOPT_FOLLOWLOCATION => true,
        CURLOPT_HTTP_VERSION => CURL_HTTP_VERSION_1_1,
        CURLOPT_CUSTOMREQUEST => 'POST',
        CURLOPT_POSTFIELDS => array(
            'to' => $Custodian, // Phone number
            'from' => 'E-Notifier', // Sender ID
            'unicode' => '0',
            'sms' => $message, // Your message
            'action' => 'send-sms'
        ),
        CURLOPT_HTTPHEADER => array(
            'x-api-key: 602|9D25yNl2oga3bV14ovgWZMBLnLqXm9sXsR3CZ2DG'
        ),
        ));

        $response = curl_exec($curl);
        curl_close($curl);

        // Decode the JSON response
        $responseData = json_decode($response, true);
        if ($responseData && isset($responseData['status']) && $responseData['status'] == 'success') {
            return  "dispatched"; 
        } else {
            return "ooops";
        }

    }

    function sendBulkerThree($Custodian,$message){
			     
        $curl = curl_init();
        curl_setopt_array($curl, array(
        CURLOPT_URL => 'https://api.mista.io/sms',
        CURLOPT_RETURNTRANSFER => true,
        CURLOPT_ENCODING => '',
        CURLOPT_MAXREDIRS => 10,
        CURLOPT_TIMEOUT => 0,
        CURLOPT_FOLLOWLOCATION => true,
        CURLOPT_HTTP_VERSION => CURL_HTTP_VERSION_1_1,
        CURLOPT_CUSTOMREQUEST => 'POST',
        CURLOPT_POSTFIELDS => array(
            'to' => $Custodian, // Phone number
            'from' => 'E-Notifier', // Sender ID
            'unicode' => '0',
            'sms' => $message, // Your message
            'action' => 'send-sms'
        ),
        CURLOPT_HTTPHEADER => array(
            'x-api-key: 602|9D25yNl2oga3bV14ovgWZMBLnLqXm9sXsR3CZ2DG'
        ),
        ));

        $response = curl_exec($curl);
        curl_close($curl);

        // Decode the JSON response
        $responseData = json_decode($response, true);
        if ($responseData && isset($responseData['status']) && $responseData['status'] == 'success') {
            return  "dispatched"; 
        } else {
            return "ooops";
        }
    }


    function sendBulkerSODLV4SM1($Custodian,$message){
			     
        $curl = curl_init();
        curl_setopt_array($curl, array(
        CURLOPT_URL => 'https://api.mista.io/sms',
        CURLOPT_RETURNTRANSFER => true,
        CURLOPT_ENCODING => '',
        CURLOPT_MAXREDIRS => 10,
        CURLOPT_TIMEOUT => 0,
        CURLOPT_FOLLOWLOCATION => true,
        CURLOPT_HTTP_VERSION => CURL_HTTP_VERSION_1_1,
        CURLOPT_CUSTOMREQUEST => 'POST',
        CURLOPT_POSTFIELDS => array(
            'to' => $Custodian, // Phone number
            'from' => 'E-Notifier', // Sender ID
            'unicode' => '0',
            'sms' => $message, // Your message
            'action' => 'send-sms'
        ),
        CURLOPT_HTTPHEADER => array(
            'x-api-key: 602|9D25yNl2oga3bV14ovgWZMBLnLqXm9sXsR3CZ2DG'
        ),
        ));

        $response = curl_exec($curl);
        curl_close($curl);

        // Decode the JSON response
        $responseData = json_decode($response, true);
        if ($responseData && isset($responseData['status']) && $responseData['status'] == 'success') {
            return  "dispatched"; 
        } else {
            return "ooops";
        }
    }


    function sendBulkerSODLV4SM2($Custodian,$message){
			     
        $curl = curl_init();
        curl_setopt_array($curl, array(
        CURLOPT_URL => 'https://api.mista.io/sms',
        CURLOPT_RETURNTRANSFER => true,
        CURLOPT_ENCODING => '',
        CURLOPT_MAXREDIRS => 10,
        CURLOPT_TIMEOUT => 0,
        CURLOPT_FOLLOWLOCATION => true,
        CURLOPT_HTTP_VERSION => CURL_HTTP_VERSION_1_1,
        CURLOPT_CUSTOMREQUEST => 'POST',
        CURLOPT_POSTFIELDS => array(
            'to' => $Custodian, // Phone number
            'from' => 'E-Notifier', // Sender ID
            'unicode' => '0',
            'sms' => $message, // Your message
            'action' => 'send-sms'
        ),
        CURLOPT_HTTPHEADER => array(
            'x-api-key: 602|9D25yNl2oga3bV14ovgWZMBLnLqXm9sXsR3CZ2DG'
        ),
        ));

        $response = curl_exec($curl);
        curl_close($curl);

        // Decode the JSON response
        $responseData = json_decode($response, true);
        if ($responseData && isset($responseData['status']) && $responseData['status'] == 'success') {
            return  "dispatched"; 
        } else {
            return "ooops";
        }
    }



    function sendBulkerSODLV4SM3($Custodian,$message){
			     
        $curl = curl_init();
        curl_setopt_array($curl, array(
        CURLOPT_URL => 'https://api.mista.io/sms',
        CURLOPT_RETURNTRANSFER => true,
        CURLOPT_ENCODING => '',
        CURLOPT_MAXREDIRS => 10,
        CURLOPT_TIMEOUT => 0,
        CURLOPT_FOLLOWLOCATION => true,
        CURLOPT_HTTP_VERSION => CURL_HTTP_VERSION_1_1,
        CURLOPT_CUSTOMREQUEST => 'POST',
        CURLOPT_POSTFIELDS => array(
            'to' => $Custodian, // Phone number
            'from' => 'E-Notifier', // Sender ID
            'unicode' => '0',
            'sms' => $message, // Your message
            'action' => 'send-sms'
        ),
        CURLOPT_HTTPHEADER => array(
            'x-api-key: 602|9D25yNl2oga3bV14ovgWZMBLnLqXm9sXsR3CZ2DG'
        ),
        ));

        $response = curl_exec($curl);
        curl_close($curl);

        // Decode the JSON response
        $responseData = json_decode($response, true);
        if ($responseData && isset($responseData['status']) && $responseData['status'] == 'success') {
            return  "dispatched"; 
        } else {
            return "ooops";
        }
    }





    //  Change Here



    function sendBulkerMessage($Custodian,$message){
			     
        $curl = curl_init();
        curl_setopt_array($curl, array(
        CURLOPT_URL => 'https://api.mista.io/sms',
        CURLOPT_RETURNTRANSFER => true,
        CURLOPT_ENCODING => '',
        CURLOPT_MAXREDIRS => 10,
        CURLOPT_TIMEOUT => 0,
        CURLOPT_FOLLOWLOCATION => true,
        CURLOPT_HTTP_VERSION => CURL_HTTP_VERSION_1_1,
        CURLOPT_CUSTOMREQUEST => 'POST',
        CURLOPT_POSTFIELDS => array(
            'to' => $Custodian, // Phone number
            'from' => 'E-Notifier', // Sender ID
            'unicode' => '0',
            'sms' => $message, // Your message
            'action' => 'send-sms'
        ),
        CURLOPT_HTTPHEADER => array(
            'x-api-key: 602|9D25yNl2oga3bV14ovgWZMBLnLqXm9sXsR3CZ2DG'
        ),
        ));

        $response = curl_exec($curl);
        curl_close($curl);

        // Decode the JSON response
        $responseData = json_decode($response, true);
        if ($responseData && isset($responseData['status']) && $responseData['status'] == 'success') {
            return  "dispatched"; 
        } else {
            return "ooops";
        }
    }


?>

